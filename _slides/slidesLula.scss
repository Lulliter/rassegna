/*-- scss:defaults --*/

// fonts
// MINE @import 'https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible&display=swap';
// LULA @import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap');
//@import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;700&display=swap');
//@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet');

// Add this font variable for math equaiton
$font-family-sans-serif: "Atkinson Hyperlegible", sans-serif;
// Add this font variable for tables
$table-font-family: "Fira Mono", monospace;

// colors and format
$presentation-title-slide-text-align: "left";
$presentation-subtitle-slide-text-align: "left";
$code-block-font-size: 0.6em;
// $presentation-h2-font-size: 1.4em;
$primary: #42009b; // #8facb4;
$presentation-heading-color: #00589b; //Pantone 19
$code-color: #d02e4c; /* #5f5f5f; */

/*-- scss:rules --*/
/* -------- TITLE SLIDE  -------- */
.reveal .title {
  color: #00589b;
  font-size: 1.7em !important;
  font-family: "IBM Plex Sans", sans-serif;
  text-align: left;
  line-height: 1.2;
  margin-top: 2em;
}

.reveal .subtitle {
  color: #d02e4c;;  // Lighter blue
  font-size: 1.4em !important;
  font-family: 'Fira Sans', sans-serif;  // Corrected font family name
  text-align: center;
  line-height: 1;
  margin-top: 2em;
}

// .reveal .author {
//   color: #77501a;
//   font-size: 1.2em !important;
//   font-family: 'Fira Sans', sans-serif;  // Corrected font family name
//   font-weight: 500;  // Medium weight
//   margin-top: 1em;
//   text-align: left;
//   letter-spacing: 0.02em;
// }

.reveal .date {
  color: #666666;  // Grey color
  font-size: 1.2em !important;  // Smaller than subtitle (1.4em)
  font-family: 'Fira Sans', sans-serif;  // Same as subtitle
  font-weight: 500;  // Medium weight
  text-align: center;  // Same as subtitle
  line-height: 1;  // Same as subtitle
  margin-top: 1em;  // Same spacing as subtitle

  // Trick that adds place before date (e.g., "Pavia, date")
  &::before {
    content: "Pavia, ";
    color: inherit;
  }
}

/* -------- ALL SLIDEs  -------- */
.small {
  font-size: 0.75em;
}

.reveal .slide .in-out {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  padding-top: 0.1em;
  padding-bottom: 0.1em;
  padding-left: 1em;
  background: #E8E8E8;
  font-family: $font-family-monospace;
  font-size: 0.6em;
}

.reveal .slide .goal {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  padding-top: 0.1em;
  padding-bottom: 0.1em;
  padding-left: 1em;
  background: #ccddeb;
}


/* -------- Lula's additions -------- */
// make h1 title of slide adjust dynamically to fit in one line
// Remove .r-fit-text override and simplify h1/h2 styling
.reveal h1 {
  font-size: clamp(0.8em, 3.5vw, 1.6em);
  white-space: normal;
  max-width: 95%;
  margin: 0.5em auto;
  line-height: 1.3;
  text-align: left;
  display: block;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* -------- Slide Titles -------- */
.reveal h2 {
  font-size: 0.9em !important;  // Fixed size instead of clamp
  white-space: normal;
  width: 100%;
  max-width: 95%;
  margin: 0.1em auto;
  text-align: left;
  line-height: 1.2;
  display: block;
  padding: 0 0.8rem;  // Slightly less padding than h2
  overflow-wrap: break-word;  // Better word wrapping for PDF
}

// change default font
.reveal .slide {
  font-family: "Roboto"
  //color: #333;
}

// change font for revealjs footer and slide numbers
.reveal .footer,
.reveal .slide-number {
  font-family: "Fira Sans", sans-serif;
  font-size: 0.8em;
  font-weight: 500;
  color: rgba(102,102, 102, 0.7);//#666;
}

.reveal .footer {
  position: fixed;  // Keep footer fixed at bottom
  bottom: 1em;     // Distance from bottom
  left: 2em;       // Distance from left
  z-index: 100;    // Ensure it stays on top
}

.reveal .slide-number {
  position: fixed;
  right: 1em;      // Distance from right
  bottom: 1em;     // Distance from bottom
  z-index: 100;    // Ensure it stays on top
}

// // make the bold text more visible (also with color)
// .reveal .slide b, strong {
//   color: #0b3e65; //rgba(12, 54, 84, 0.777); //rgba(51, 51, 51, 0.85); //#004a82;
//   font-weight: 600;
//   //font-family: "Source Sans Pro", Helvetica, sans-serif;
// }

// make the bold text more visible (only in regular text)
.reveal .slide > p b,
.reveal .slide > p strong,
.reveal .slide > div > p b,
.reveal .slide > div > p strong {
  color: #0b3e65;
  font-weight: 600;
}

// change the color and font family of the latex equations
.reveal .slide .math {
  color: #9b4300;
  //font-family: "Atkinson Hyperlegible", sans-serif;
  //font-family: "Latin Modern Math", serif;
  //font-family: "IBM Plex Sans", sans-serif;
  font-family: "Lora", sans-serif;
  //font-size: 1.05em;
}

// Add custom styling for kable tables
.reveal .slide table {
  font-family: $table-font-family;
  font-size: 0.75em;
  line-height: 1.3;
  letter-spacing: -0.02em;

  // Align numbers right in table cells
  td:not(:first-child) {
    text-align: right;
  }
  
  // Keep first column (usually text) left-aligned
  td:first-child {
    text-align: left;
  }
}

.reveal .slide table thead th {
  font-family: "Fira Mono", monospace;
  font-weight: 700 !important;
  font-size: 1em;
  border-bottom: 2px solid #4a4a4a;
  color: #353434be;
  letter-spacing: 0; // Remove letter spacing for headers
  padding: 0.5em 0.5em;
  background-color: rgba(0, 0, 0, 0.05); // Light grey background
}

// Ensure regular cells remain properly styled
.reveal .slide table td {
  font-weight: 400;
  padding: 0.3em 0.5em;
}

// Style hyperlinks
.reveal a {
  color: #009b43; //#2276b3;  // Lighter color
  text-decoration: none;
  transition: color 0.15s ease;

  &:hover {
    color: #007c36; //#00589b;  // Darker on hover
    text-decoration: underline;
  }
}

// Style blockquotes more compactly
.reveal blockquote {
  border-left: 4px solid #00355d;
  margin: 0.2em 0;  // Reduced vertical margins
  padding: 0 0 0 1em;  // Remove vertical padding, keep left padding
  font-family: "Meslo";
  font-style: italic;
  background: #e6eef5;
  //box-shadow: 2px 2px 5px rgba(0, 88, 155, 0.2); //
  box-shadow: none;
  width: fit-content;  // Make container fit content
  display: inline-block;  // Prevent full-width block

  // Remove extra spacing and default quotes
  &::before,
  &::after {
    content: none;
  }

  // Remove any default reveal.js styles
  p {
    margin: 0;
    padding: 0;
  }
}

// Style blockquotes with their own bold formatting
.reveal blockquote b,
.reveal blockquote strong {
  color: inherit;  // Keep the blockquote text color
  font-weight: 700;  // Can be bolder within quotes
}
// replicate the CSS for a callout box with a custom title, icon, and default appearance
// FROM https://github.com/melissavanbussel/YouTube-Tutorials/blob/main/quarto_custom_callouts/custom.scss
// ...

/* -------- Bibliography Styling -------- */
.reveal .refs-list,
.reveal #refs,
.reveal .references {
  font-size: 0.8em;  // Smaller font size
  line-height: 1.2;  // Tighter line height
  margin-top: 1em;
  
  // Style the bibliography entries
  .csl-entry {
    margin-bottom: 0.5em;
    text-align: left;
  }
}